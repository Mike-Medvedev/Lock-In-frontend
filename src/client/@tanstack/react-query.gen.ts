// This file is auto-generated by @hey-api/openapi-ts

import { type DefaultError, queryOptions, type UseMutationOptions } from '@tanstack/react-query';

import { client } from '../client.gen';
import { deleteApiV1CommitmentsId, getApiV1Commitments, getApiV1CommitmentsActive, getApiV1CommitmentSessions, getApiV1CommitmentSessionsId, getApiV1CommitmentSessionsIdSamples, getApiV1CommitmentsId, getApiV1CommitmentsIdCancel, getApiV1CommitmentsIdProgress, getApiV1CommitmentsIdSessions, getApiV1Pool, getApiV1Transactions, getApiV1TransactionsId, getUsers, type Options, patchApiV1CommitmentsId, postApiV1Commitments, postApiV1CommitmentSessions, postApiV1CommitmentSessionsIdCancel, postApiV1CommitmentSessionsIdComplete, postApiV1CommitmentSessionsIdPause, postApiV1CommitmentSessionsIdResume, postApiV1CommitmentSessionsIdSamples, postApiV1CommitmentSessionsIdVerify, postApiV1CommitmentsIdCancel, postApiV1Payments, postApiV1PaymentsConfirm, postCronForfeitExpired, postWebhookPayments } from '../sdk.gen';
import type { DeleteApiV1CommitmentsIdData, DeleteApiV1CommitmentsIdResponse, GetApiV1CommitmentsActiveData, GetApiV1CommitmentsActiveResponse, GetApiV1CommitmentsData, GetApiV1CommitmentsError, GetApiV1CommitmentSessionsData, GetApiV1CommitmentSessionsError, GetApiV1CommitmentSessionsIdData, GetApiV1CommitmentSessionsIdError, GetApiV1CommitmentSessionsIdResponse, GetApiV1CommitmentSessionsIdSamplesData, GetApiV1CommitmentSessionsIdSamplesError, GetApiV1CommitmentSessionsIdSamplesResponse, GetApiV1CommitmentSessionsResponse, GetApiV1CommitmentsIdCancelData, GetApiV1CommitmentsIdCancelResponse, GetApiV1CommitmentsIdData, GetApiV1CommitmentsIdError, GetApiV1CommitmentsIdProgressData, GetApiV1CommitmentsIdProgressError, GetApiV1CommitmentsIdProgressResponse, GetApiV1CommitmentsIdResponse, GetApiV1CommitmentsIdSessionsData, GetApiV1CommitmentsIdSessionsError, GetApiV1CommitmentsIdSessionsResponse, GetApiV1CommitmentsResponse, GetApiV1PoolData, GetApiV1PoolError, GetApiV1PoolResponse, GetApiV1TransactionsData, GetApiV1TransactionsError, GetApiV1TransactionsIdData, GetApiV1TransactionsIdError, GetApiV1TransactionsIdResponse, GetApiV1TransactionsResponse, GetUsersData, GetUsersResponse, PatchApiV1CommitmentsIdData, PatchApiV1CommitmentsIdResponse, PostApiV1CommitmentsData, PostApiV1CommitmentSessionsData, PostApiV1CommitmentSessionsError, PostApiV1CommitmentSessionsIdCancelData, PostApiV1CommitmentSessionsIdCancelError, PostApiV1CommitmentSessionsIdCancelResponse, PostApiV1CommitmentSessionsIdCompleteData, PostApiV1CommitmentSessionsIdCompleteError, PostApiV1CommitmentSessionsIdCompleteResponse, PostApiV1CommitmentSessionsIdPauseData, PostApiV1CommitmentSessionsIdPauseError, PostApiV1CommitmentSessionsIdPauseResponse, PostApiV1CommitmentSessionsIdResumeData, PostApiV1CommitmentSessionsIdResumeError, PostApiV1CommitmentSessionsIdResumeResponse, PostApiV1CommitmentSessionsIdSamplesData, PostApiV1CommitmentSessionsIdSamplesError, PostApiV1CommitmentSessionsIdSamplesResponse, PostApiV1CommitmentSessionsIdVerifyData, PostApiV1CommitmentSessionsIdVerifyError, PostApiV1CommitmentSessionsIdVerifyResponse, PostApiV1CommitmentSessionsResponse, PostApiV1CommitmentsIdCancelData, PostApiV1CommitmentsIdCancelResponse, PostApiV1CommitmentsResponse, PostApiV1PaymentsConfirmData, PostApiV1PaymentsConfirmError, PostApiV1PaymentsConfirmResponse, PostApiV1PaymentsData, PostApiV1PaymentsError, PostApiV1PaymentsResponse, PostCronForfeitExpiredData, PostCronForfeitExpiredError, PostCronForfeitExpiredResponse, PostWebhookPaymentsData } from '../types.gen';

export type QueryKey<TOptions extends Options> = [
    Pick<TOptions, 'baseUrl' | 'body' | 'headers' | 'path' | 'query'> & {
        _id: string;
        _infinite?: boolean;
        tags?: ReadonlyArray<string>;
    }
];

const createQueryKey = <TOptions extends Options>(id: string, options?: TOptions, infinite?: boolean, tags?: ReadonlyArray<string>): [
    QueryKey<TOptions>[0]
] => {
    const params: QueryKey<TOptions>[0] = { _id: id, baseUrl: options?.baseUrl || (options?.client ?? client).getConfig().baseUrl } as QueryKey<TOptions>[0];
    if (infinite) {
        params._infinite = infinite;
    }
    if (tags) {
        params.tags = tags;
    }
    if (options?.body) {
        params.body = options.body;
    }
    if (options?.headers) {
        params.headers = options.headers;
    }
    if (options?.path) {
        params.path = options.path;
    }
    if (options?.query) {
        params.query = options.query;
    }
    return [params];
};

export const getUsersQueryKey = (options?: Options<GetUsersData>) => createQueryKey('getUsers', options);

/**
 * GET /users/
 */
export const getUsersOptions = (options?: Options<GetUsersData>) => queryOptions<GetUsersResponse, DefaultError, GetUsersResponse, ReturnType<typeof getUsersQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getUsers({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getUsersQueryKey(options)
});

export const getApiV1TransactionsQueryKey = (options?: Options<GetApiV1TransactionsData>) => createQueryKey('getApiV1Transactions', options);

/**
 * List transactions for the authenticated user
 */
export const getApiV1TransactionsOptions = (options?: Options<GetApiV1TransactionsData>) => queryOptions<GetApiV1TransactionsResponse, GetApiV1TransactionsError, GetApiV1TransactionsResponse, ReturnType<typeof getApiV1TransactionsQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1Transactions({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1TransactionsQueryKey(options)
});

export const getApiV1TransactionsIdQueryKey = (options: Options<GetApiV1TransactionsIdData>) => createQueryKey('getApiV1TransactionsId', options);

/**
 * Get transaction by ID
 */
export const getApiV1TransactionsIdOptions = (options: Options<GetApiV1TransactionsIdData>) => queryOptions<GetApiV1TransactionsIdResponse, GetApiV1TransactionsIdError, GetApiV1TransactionsIdResponse, ReturnType<typeof getApiV1TransactionsIdQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1TransactionsId({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1TransactionsIdQueryKey(options)
});

export const getApiV1CommitmentsQueryKey = (options?: Options<GetApiV1CommitmentsData>) => createQueryKey('getApiV1Commitments', options);

/**
 * List all commitments
 */
export const getApiV1CommitmentsOptions = (options?: Options<GetApiV1CommitmentsData>) => queryOptions<GetApiV1CommitmentsResponse, GetApiV1CommitmentsError, GetApiV1CommitmentsResponse, ReturnType<typeof getApiV1CommitmentsQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1Commitments({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentsQueryKey(options)
});

/**
 * Create a new commitment
 */
export const postApiV1CommitmentsMutation = (options?: Partial<Options<PostApiV1CommitmentsData>>): UseMutationOptions<PostApiV1CommitmentsResponse, DefaultError, Options<PostApiV1CommitmentsData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentsResponse, DefaultError, Options<PostApiV1CommitmentsData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1Commitments({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

export const getApiV1CommitmentsActiveQueryKey = (options?: Options<GetApiV1CommitmentsActiveData>) => createQueryKey('getApiV1CommitmentsActive', options);

/**
 * List active commitments
 *
 * Returns all commitments with status 'active' for the authenticated user
 */
export const getApiV1CommitmentsActiveOptions = (options?: Options<GetApiV1CommitmentsActiveData>) => queryOptions<GetApiV1CommitmentsActiveResponse, DefaultError, GetApiV1CommitmentsActiveResponse, ReturnType<typeof getApiV1CommitmentsActiveQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1CommitmentsActive({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentsActiveQueryKey(options)
});

/**
 * Delete a commitment
 */
export const deleteApiV1CommitmentsIdMutation = (options?: Partial<Options<DeleteApiV1CommitmentsIdData>>): UseMutationOptions<DeleteApiV1CommitmentsIdResponse, DefaultError, Options<DeleteApiV1CommitmentsIdData>> => {
    const mutationOptions: UseMutationOptions<DeleteApiV1CommitmentsIdResponse, DefaultError, Options<DeleteApiV1CommitmentsIdData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await deleteApiV1CommitmentsId({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

export const getApiV1CommitmentsIdQueryKey = (options: Options<GetApiV1CommitmentsIdData>) => createQueryKey('getApiV1CommitmentsId', options);

/**
 * Get commitment by ID
 */
export const getApiV1CommitmentsIdOptions = (options: Options<GetApiV1CommitmentsIdData>) => queryOptions<GetApiV1CommitmentsIdResponse, GetApiV1CommitmentsIdError, GetApiV1CommitmentsIdResponse, ReturnType<typeof getApiV1CommitmentsIdQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1CommitmentsId({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentsIdQueryKey(options)
});

/**
 * Update a commitment
 */
export const patchApiV1CommitmentsIdMutation = (options?: Partial<Options<PatchApiV1CommitmentsIdData>>): UseMutationOptions<PatchApiV1CommitmentsIdResponse, DefaultError, Options<PatchApiV1CommitmentsIdData>> => {
    const mutationOptions: UseMutationOptions<PatchApiV1CommitmentsIdResponse, DefaultError, Options<PatchApiV1CommitmentsIdData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await patchApiV1CommitmentsId({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

export const getApiV1CommitmentsIdCancelQueryKey = (options: Options<GetApiV1CommitmentsIdCancelData>) => createQueryKey('getApiV1CommitmentsIdCancel', options);

/**
 * Preview commitment cancellation
 *
 * Returns what will happen if the commitment is cancelled (refund or forfeit)
 */
export const getApiV1CommitmentsIdCancelOptions = (options: Options<GetApiV1CommitmentsIdCancelData>) => queryOptions<GetApiV1CommitmentsIdCancelResponse, DefaultError, GetApiV1CommitmentsIdCancelResponse, ReturnType<typeof getApiV1CommitmentsIdCancelQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1CommitmentsIdCancel({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentsIdCancelQueryKey(options)
});

/**
 * Cancel a commitment
 *
 * Cancels the commitment. Refunds if within grace period, forfeits stake if not.
 */
export const postApiV1CommitmentsIdCancelMutation = (options?: Partial<Options<PostApiV1CommitmentsIdCancelData>>): UseMutationOptions<PostApiV1CommitmentsIdCancelResponse, DefaultError, Options<PostApiV1CommitmentsIdCancelData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentsIdCancelResponse, DefaultError, Options<PostApiV1CommitmentsIdCancelData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1CommitmentsIdCancel({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

export const getApiV1CommitmentsIdProgressQueryKey = (options: Options<GetApiV1CommitmentsIdProgressData>) => createQueryKey('getApiV1CommitmentsIdProgress', options);

/**
 * Get commitment progress
 *
 * Returns the number of completed/verified sessions, current week, and how many sessions are still needed.
 */
export const getApiV1CommitmentsIdProgressOptions = (options: Options<GetApiV1CommitmentsIdProgressData>) => queryOptions<GetApiV1CommitmentsIdProgressResponse, GetApiV1CommitmentsIdProgressError, GetApiV1CommitmentsIdProgressResponse, ReturnType<typeof getApiV1CommitmentsIdProgressQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1CommitmentsIdProgress({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentsIdProgressQueryKey(options)
});

export const getApiV1CommitmentsIdSessionsQueryKey = (options: Options<GetApiV1CommitmentsIdSessionsData>) => createQueryKey('getApiV1CommitmentsIdSessions', options);

/**
 * List sessions for a commitment
 *
 * Returns all sessions (non-cancelled) belonging to a specific commitment.
 */
export const getApiV1CommitmentsIdSessionsOptions = (options: Options<GetApiV1CommitmentsIdSessionsData>) => queryOptions<GetApiV1CommitmentsIdSessionsResponse, GetApiV1CommitmentsIdSessionsError, GetApiV1CommitmentsIdSessionsResponse, ReturnType<typeof getApiV1CommitmentsIdSessionsQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1CommitmentsIdSessions({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentsIdSessionsQueryKey(options)
});

export const getApiV1CommitmentSessionsQueryKey = (options?: Options<GetApiV1CommitmentSessionsData>) => createQueryKey('getApiV1CommitmentSessions', options);

/**
 * List all commitment sessions
 */
export const getApiV1CommitmentSessionsOptions = (options?: Options<GetApiV1CommitmentSessionsData>) => queryOptions<GetApiV1CommitmentSessionsResponse, GetApiV1CommitmentSessionsError, GetApiV1CommitmentSessionsResponse, ReturnType<typeof getApiV1CommitmentSessionsQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1CommitmentSessions({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentSessionsQueryKey(options)
});

/**
 * Create a commitment session
 */
export const postApiV1CommitmentSessionsMutation = (options?: Partial<Options<PostApiV1CommitmentSessionsData>>): UseMutationOptions<PostApiV1CommitmentSessionsResponse, PostApiV1CommitmentSessionsError, Options<PostApiV1CommitmentSessionsData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentSessionsResponse, PostApiV1CommitmentSessionsError, Options<PostApiV1CommitmentSessionsData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1CommitmentSessions({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

export const getApiV1CommitmentSessionsIdQueryKey = (options: Options<GetApiV1CommitmentSessionsIdData>) => createQueryKey('getApiV1CommitmentSessionsId', options);

/**
 * Get commitment session by ID
 */
export const getApiV1CommitmentSessionsIdOptions = (options: Options<GetApiV1CommitmentSessionsIdData>) => queryOptions<GetApiV1CommitmentSessionsIdResponse, GetApiV1CommitmentSessionsIdError, GetApiV1CommitmentSessionsIdResponse, ReturnType<typeof getApiV1CommitmentSessionsIdQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1CommitmentSessionsId({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentSessionsIdQueryKey(options)
});

/**
 * Complete a session: ends recording and marks verification as pending
 */
export const postApiV1CommitmentSessionsIdCompleteMutation = (options?: Partial<Options<PostApiV1CommitmentSessionsIdCompleteData>>): UseMutationOptions<PostApiV1CommitmentSessionsIdCompleteResponse, PostApiV1CommitmentSessionsIdCompleteError, Options<PostApiV1CommitmentSessionsIdCompleteData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentSessionsIdCompleteResponse, PostApiV1CommitmentSessionsIdCompleteError, Options<PostApiV1CommitmentSessionsIdCompleteData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1CommitmentSessionsIdComplete({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

/**
 * Cancel a session (from in_progress or paused)
 */
export const postApiV1CommitmentSessionsIdCancelMutation = (options?: Partial<Options<PostApiV1CommitmentSessionsIdCancelData>>): UseMutationOptions<PostApiV1CommitmentSessionsIdCancelResponse, PostApiV1CommitmentSessionsIdCancelError, Options<PostApiV1CommitmentSessionsIdCancelData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentSessionsIdCancelResponse, PostApiV1CommitmentSessionsIdCancelError, Options<PostApiV1CommitmentSessionsIdCancelData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1CommitmentSessionsIdCancel({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

/**
 * Pause a session (only from in_progress)
 */
export const postApiV1CommitmentSessionsIdPauseMutation = (options?: Partial<Options<PostApiV1CommitmentSessionsIdPauseData>>): UseMutationOptions<PostApiV1CommitmentSessionsIdPauseResponse, PostApiV1CommitmentSessionsIdPauseError, Options<PostApiV1CommitmentSessionsIdPauseData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentSessionsIdPauseResponse, PostApiV1CommitmentSessionsIdPauseError, Options<PostApiV1CommitmentSessionsIdPauseData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1CommitmentSessionsIdPause({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

/**
 * Resume a paused session back to in_progress
 */
export const postApiV1CommitmentSessionsIdResumeMutation = (options?: Partial<Options<PostApiV1CommitmentSessionsIdResumeData>>): UseMutationOptions<PostApiV1CommitmentSessionsIdResumeResponse, PostApiV1CommitmentSessionsIdResumeError, Options<PostApiV1CommitmentSessionsIdResumeData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentSessionsIdResumeResponse, PostApiV1CommitmentSessionsIdResumeError, Options<PostApiV1CommitmentSessionsIdResumeData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1CommitmentSessionsIdResume({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

/**
 * Submit a commitment session for verification
 */
export const postApiV1CommitmentSessionsIdVerifyMutation = (options?: Partial<Options<PostApiV1CommitmentSessionsIdVerifyData>>): UseMutationOptions<PostApiV1CommitmentSessionsIdVerifyResponse, PostApiV1CommitmentSessionsIdVerifyError, Options<PostApiV1CommitmentSessionsIdVerifyData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentSessionsIdVerifyResponse, PostApiV1CommitmentSessionsIdVerifyError, Options<PostApiV1CommitmentSessionsIdVerifyData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1CommitmentSessionsIdVerify({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

export const getApiV1CommitmentSessionsIdSamplesQueryKey = (options: Options<GetApiV1CommitmentSessionsIdSamplesData>) => createQueryKey('getApiV1CommitmentSessionsIdSamples', options);

/**
 * Get all samples for a session
 */
export const getApiV1CommitmentSessionsIdSamplesOptions = (options: Options<GetApiV1CommitmentSessionsIdSamplesData>) => queryOptions<GetApiV1CommitmentSessionsIdSamplesResponse, GetApiV1CommitmentSessionsIdSamplesError, GetApiV1CommitmentSessionsIdSamplesResponse, ReturnType<typeof getApiV1CommitmentSessionsIdSamplesQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1CommitmentSessionsIdSamples({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1CommitmentSessionsIdSamplesQueryKey(options)
});

/**
 * Batch upload GPS + motion sensor samples for a live session
 */
export const postApiV1CommitmentSessionsIdSamplesMutation = (options?: Partial<Options<PostApiV1CommitmentSessionsIdSamplesData>>): UseMutationOptions<PostApiV1CommitmentSessionsIdSamplesResponse, PostApiV1CommitmentSessionsIdSamplesError, Options<PostApiV1CommitmentSessionsIdSamplesData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1CommitmentSessionsIdSamplesResponse, PostApiV1CommitmentSessionsIdSamplesError, Options<PostApiV1CommitmentSessionsIdSamplesData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1CommitmentSessionsIdSamples({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

/**
 * Create a Payment Intent for a user
 *
 * Returns the Payment Intent's client secret, the Customer Session's client secret, the Customer's id, and your publishable key.
 */
export const postApiV1PaymentsMutation = (options?: Partial<Options<PostApiV1PaymentsData>>): UseMutationOptions<PostApiV1PaymentsResponse, PostApiV1PaymentsError, Options<PostApiV1PaymentsData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1PaymentsResponse, PostApiV1PaymentsError, Options<PostApiV1PaymentsData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1Payments({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

/**
 * Confirm a Payment Intent
 *
 * Confirms the Payment Intent with the given id. Returns the intent status.
 */
export const postApiV1PaymentsConfirmMutation = (options?: Partial<Options<PostApiV1PaymentsConfirmData>>): UseMutationOptions<PostApiV1PaymentsConfirmResponse, PostApiV1PaymentsConfirmError, Options<PostApiV1PaymentsConfirmData>> => {
    const mutationOptions: UseMutationOptions<PostApiV1PaymentsConfirmResponse, PostApiV1PaymentsConfirmError, Options<PostApiV1PaymentsConfirmData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postApiV1PaymentsConfirm({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

export const getApiV1PoolQueryKey = (options?: Options<GetApiV1PoolData>) => createQueryKey('getApiV1Pool', options);

/**
 * Get pool state
 */
export const getApiV1PoolOptions = (options?: Options<GetApiV1PoolData>) => queryOptions<GetApiV1PoolResponse, GetApiV1PoolError, GetApiV1PoolResponse, ReturnType<typeof getApiV1PoolQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
        const { data } = await getApiV1Pool({
            ...options,
            ...queryKey[0],
            signal,
            throwOnError: true
        });
        return data;
    },
    queryKey: getApiV1PoolQueryKey(options)
});

/**
 * Stripe webhook endpoint for recieving stripe events from stripe
 */
export const postWebhookPaymentsMutation = (options?: Partial<Options<PostWebhookPaymentsData>>): UseMutationOptions<unknown, DefaultError, Options<PostWebhookPaymentsData>> => {
    const mutationOptions: UseMutationOptions<unknown, DefaultError, Options<PostWebhookPaymentsData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postWebhookPayments({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};

/**
 * Forfeit expired commitments
 *
 * Called by Supabase pg_cron at 2am UTC daily. Finds active commitments past their end date with insufficient verified sessions and forfeits them.
 */
export const postCronForfeitExpiredMutation = (options?: Partial<Options<PostCronForfeitExpiredData>>): UseMutationOptions<PostCronForfeitExpiredResponse, PostCronForfeitExpiredError, Options<PostCronForfeitExpiredData>> => {
    const mutationOptions: UseMutationOptions<PostCronForfeitExpiredResponse, PostCronForfeitExpiredError, Options<PostCronForfeitExpiredData>> = {
        mutationFn: async (fnOptions) => {
            const { data } = await postCronForfeitExpired({
                ...options,
                ...fnOptions,
                throwOnError: true
            });
            return data;
        }
    };
    return mutationOptions;
};
